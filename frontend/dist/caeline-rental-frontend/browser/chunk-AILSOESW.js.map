{
  "version": 3,
  "sources": ["src/app/admin/dashboard/dashboard.component.ts"],
  "sourcesContent": ["import { Component, OnInit, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ApiService } from '../../core/services/api.service';\nimport { DashboardStats } from '../../shared/models';\n\n@Component({\n  selector: 'app-dashboard',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <div>\n      <div class=\"mb-8\">\n        <h1 class=\"text-2xl font-serif font-bold text-gray-800 mb-1\">Dashboard</h1>\n        <p class=\"text-gray-500\">Welcome back! Here's your business overview.</p>\n      </div>\n\n      <!-- Stats Cards -->\n      @if (stats()) {\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          @for (card of statCards(); track card.label) {\n            <div class=\"card p-6\">\n              <div class=\"flex items-start justify-between mb-4\">\n                <div class=\"p-3 rounded-xl\" [style.background]=\"card.bgColor\">\n                  <span class=\"text-2xl\">{{ card.icon }}</span>\n                </div>\n                @if (card.change !== null) {\n                  <span class=\"text-xs font-semibold px-2 py-1 rounded-full\"\n                        [class]=\"card.change >= 0 ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'\">\n                    {{ card.change >= 0 ? 'â†‘' : 'â†“' }} {{ Math.abs(card.change) }}%\n                  </span>\n                }\n              </div>\n              <p class=\"text-3xl font-bold text-gray-800 mb-1\">{{ card.value }}</p>\n              <p class=\"text-sm text-gray-500\">{{ card.label }}</p>\n            </div>\n          }\n        </div>\n\n        <!-- Popular Packages -->\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          <div class=\"card p-6\">\n            <h3 class=\"font-semibold text-gray-700 mb-5\">Popular Packages</h3>\n            @if (stats()!.popularPackages.length > 0) {\n              <div class=\"space-y-4\">\n                @for (pkg of stats()!.popularPackages; track pkg.name) {\n                  <div class=\"flex items-center gap-4\">\n                    <div class=\"w-8 h-8 bg-sakura-100 rounded-full flex items-center justify-center text-sakura-600 font-bold text-sm flex-shrink-0\">\n                      {{ $index + 1 }}\n                    </div>\n                    <div class=\"flex-1\">\n                      <div class=\"flex justify-between items-center mb-1\">\n                        <span class=\"text-sm font-medium text-gray-700\">{{ pkg.name }}</span>\n                        <span class=\"text-sm text-gray-500\">{{ pkg.count }} bookings</span>\n                      </div>\n                      <div class=\"h-2 bg-gray-100 rounded-full overflow-hidden\">\n                        <div class=\"h-full bg-sakura-400 rounded-full transition-all duration-500\"\n                             [style.width]=\"getBarWidth(pkg.count) + '%'\"></div>\n                      </div>\n                    </div>\n                  </div>\n                }\n              </div>\n            } @else {\n              <div class=\"text-center py-8 text-gray-400\">\n                <p class=\"text-4xl mb-2\">ðŸ“Š</p>\n                <p class=\"text-sm\">No booking data yet</p>\n              </div>\n            }\n          </div>\n\n          <!-- Quick Actions -->\n          <div class=\"card p-6\">\n            <h3 class=\"font-semibold text-gray-700 mb-5\">Quick Actions</h3>\n            <div class=\"grid grid-cols-2 gap-3\">\n              @for (action of quickActions; track action.label) {\n                <a [href]=\"action.href\" class=\"flex flex-col items-center gap-2 p-4 bg-gray-50 rounded-xl\n                           hover:bg-sakura-50 hover:text-sakura-600 transition-colors duration-200 text-center cursor-pointer\">\n                  <span class=\"text-3xl\">{{ action.icon }}</span>\n                  <span class=\"text-xs font-medium text-gray-600\">{{ action.label }}</span>\n                </a>\n              }\n            </div>\n          </div>\n        </div>\n      } @else {\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          @for (i of [1,2,3,4]; track i) {\n            <div class=\"card p-6\">\n              <div class=\"h-12 shimmer rounded-xl mb-4 w-12\"></div>\n              <div class=\"h-8 shimmer rounded w-1/2 mb-2\"></div>\n              <div class=\"h-4 shimmer rounded w-3/4\"></div>\n            </div>\n          }\n        </div>\n      }\n    </div>\n  `\n})\nexport class DashboardComponent implements OnInit {\n  stats = signal<DashboardStats | null>(null);\n  Math = Math;\n\n  quickActions = [\n    { icon: 'ðŸ“…', label: 'View Bookings', href: '/admin/bookings' },\n    { icon: 'ðŸ‘˜', label: 'Manage Outfits', href: '/admin/outfits' },\n    { icon: 'ðŸŒ¸', label: 'Manage Packages', href: '/admin/packages' },\n    { icon: 'ðŸ–¼ï¸', label: 'Edit Content', href: '/admin/content' },\n  ];\n\n  statCards = () => {\n    const s = this.stats();\n    if (!s) return [];\n    const change = s.lastMonthBookings > 0\n      ? Math.round(((s.monthlyBookings - s.lastMonthBookings) / s.lastMonthBookings) * 100)\n      : null;\n    return [\n      { icon: 'ðŸ“…', label: 'Total Bookings', value: s.totalBookings.toLocaleString(),\n        bgColor: '#fde6ef', change: null },\n      { icon: 'ðŸ“…', label: 'This Month', value: s.monthlyBookings.toLocaleString(),\n        bgColor: '#ede3ff', change },\n      { icon: 'ðŸ’°', label: 'Monthly Revenue', value: (s.monthlyRevenue / 1000).toFixed(0) + 'K Ä‘',\n        bgColor: '#d1fae5', change: null },\n      { icon: 'ðŸ‘˜', label: 'Outfits', value: s.totalOutfits.toString(),\n        bgColor: '#fef3c7', change: null },\n    ];\n  };\n\n  constructor(private api: ApiService) {}\n\n  ngOnInit() {\n    this.api.getDashboardStats().subscribe({\n      next: s => this.stats.set(s),\n      error: () => {}\n    });\n  }\n\n  getBarWidth(count: number): number {\n    const max = Math.max(...(this.stats()?.popularPackages.map(p => Number(p.count)) || [1]));\n    return max > 0 ? (Number(count) / max) * 100 : 0;\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
